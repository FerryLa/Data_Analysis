================================================================
íŒŒë‚˜ë§ˆ ìš´í•˜ vs ë‚¨ë¯¸ ìš°íšŒ ê²½ë¡œ ì‹œê°í™” - ìµœì¢… DAX ì½”ë“œ
================================================================

[ì¤‘ìš”] ë¨¼ì € ì•„ë˜ íŒŒì¼ë“¤ì„ Power BIì— ì„í¬íŠ¸í•˜ì„¸ìš”:
1. port_markers_corrected.csv â†’ í…Œì´ë¸”ëª…: port_markers
2. route_points_final.csv â†’ í…Œì´ë¸”ëª…: route_points_final

================================================================
1. í†µí•© ì§€ë„ í…Œì´ë¸” (ê³„ì‚°ëœ í…Œì´ë¸”)
================================================================

All_Map_Points = 
UNION(
    -- í•­êµ¬ í¬ì¸íŠ¸
    SELECTCOLUMNS(
        port_markers,
        "lat", [lat],
        "lon", [lon],
        "GeoLocation", FORMAT([lat], "0.0000") & "," & FORMAT([lon], "0.0000"),
        "LayerName", "í•­êµ¬",
        "LayerType", [type],
        "DisplayLabel", [port],
        "PointColor", [marker_color],
        "PointSize", 35,
        "SeqNum", BLANK(),
        "PointType", "port"
    ),
    
    -- ê²½ë¡œ í¬ì¸íŠ¸
    SELECTCOLUMNS(
        route_points_final,
        "lat", [lat],
        "lon", [lon],
        "GeoLocation", FORMAT([lat], "0.0000") & "," & FORMAT([lon], "0.0000"),
        "LayerName", [route],
        "LayerType", "í•´ìƒê²½ë¡œ",
        "DisplayLabel", IF([point_type] = "waypoint", [location], ""),
        "PointColor", [color],
        "PointSize", 
            SWITCH(
                [point_type],
                "waypoint", 15,      -- ê²½ìœ ì§€
                "intermediate", 6,   -- ì¤‘ê°„ì 
                10
            ),
        "SeqNum", [seq],
        "PointType", [point_type]
    )
)

================================================================
2. ì‹œê°í™” í•„ë“œ ë§¤í•‘ (ArcGIS Maps)
================================================================

ìœ„ì¹˜: All_Map_Points[GeoLocation]
í¬ê¸°: All_Map_Points[PointSize]
ìƒ‰ìƒ: All_Map_Points[LayerName]

ë„êµ¬ íŒ:
- All_Map_Points[DisplayLabel]
- All_Map_Points[LayerName]
- All_Map_Points[LayerType]
- All_Map_Points[SeqNum]

================================================================
3. ìƒ‰ìƒ ì„¤ì • (ë ˆì´ì–´ íŒ¨ë„)
================================================================

ğŸŸ¡ í•­êµ¬ â†’ yellow (#FFFF00) ë˜ëŠ” gold (#FFD700)
ğŸ”µ íŒŒë‚˜ë§ˆ ê²½ìœ  â†’ blue (#0078D4)
ğŸ”´ ë‚¨ë¯¸ ìš°íšŒ â†’ red (#D13438)

================================================================
4. í•­ë¡œ íŠ¹ì§•
================================================================

ã€íŒŒë‚˜ë§ˆ ê²½ìœ  (57ê°œ í¬ì¸íŠ¸)ã€‘
ë¶€ì‚° â†’ ì¼ë³¸ ë‚¨ë¶€ â†’ ë¶íƒœí‰ì–‘(ì•Œë¥˜ìƒ¨ ì—´ë„ ë‚¨ìª½) 
â†’ ë¯¸êµ­ ì„œë¶€ â†’ ë©•ì‹œì½” ì„œë¶€ â†’ ê³¼í…Œë§ë¼ â†’ íŒŒë‚˜ë§ˆìš´í•˜ 
â†’ ì¹´ë¦¬ë¸Œí•´ â†’ í”Œë¡œë¦¬ë‹¤ ë™ë¶€ â†’ ë‰´ìš•

íŠ¹ì§•: ë¶íƒœí‰ì–‘ íš¡ë‹¨, íŒŒë‚˜ë§ˆìš´í•˜ í†µê³¼

ã€ë‚¨ë¯¸ ìš°íšŒ (73ê°œ í¬ì¸íŠ¸)ã€‘
ë¶€ì‚° â†’ í•„ë¦¬í•€ â†’ ì¸ë„ë„¤ì‹œì•„ â†’ ì¸ë„ì–‘ â†’ í˜¸ì£¼ ë‚¨ë¶€ 
â†’ ë‰´ì§ˆëœë“œ ë‚¨ë¶€ â†’ ë‚¨íƒœí‰ì–‘ â†’ ì¹ ë ˆ ë‚¨ë¶€ â†’ ë§ˆì ¤ë€í•´í˜‘ 
â†’ ì•„ë¥´í—¨í‹°ë‚˜ â†’ ë¸Œë¼ì§ˆ â†’ ëŒ€ì„œì–‘ ë¶ìƒ â†’ ë‰´ìš•

íŠ¹ì§•: ë‚¨ë°˜êµ¬ ê²½ìœ , ë§ˆì ¤ë€í•´í˜‘ í†µê³¼

================================================================
5. ê¸°ì¡´ ì¸¡ì •ê°’ ìœ ì§€
================================================================

Selected Route Distance = 
CALCULATE(
    AVERAGE(routes_cost[distance_km]),
    ALLSELECTED(routes_cost[route_name])
)

Selected Route Cost = 
CALCULATE(
    AVERAGE(routes_cost[total_cost]),
    ALLSELECTED(routes_cost[route_name])
)

Cost Savings = 
VAR PanamaCost = CALCULATE(
    AVERAGE(routes_cost[total_cost]),
    routes_cost[via_panama] = TRUE
)
VAR DetourCost = CALCULATE(
    AVERAGE(routes_cost[total_cost]),
    routes_cost[via_panama] = FALSE  
)
RETURN DetourCost - PanamaCost

================================================================
6. ì‚­ì œí•  í…Œì´ë¸” ëª©ë¡
================================================================

âŒ ì´ì „ ë²„ì „ë“¤ ì‚­ì œ:
- route_points_enhanced
- route_points_with_intermediate
- route_points_great_circle
- route_points_corrected (ì²« ë²ˆì§¸ ìˆ˜ì •ë³¸)
- All_Map_Points_Fixed
- All_Map_Points_Final
- route_line_segments

âœ… ìµœì¢… ìœ ì§€:
- port_markers (ìƒˆë¡œ ì„í¬íŠ¸)
- route_points_final (ìƒˆë¡œ ì„í¬íŠ¸)
- routes_cost (ë¹„ìš© ë°ì´í„°)
- All_Map_Points (ìƒˆë¡œ ìƒì„±)
- Measures (ì¸¡ì •ê°’ í…Œì´ë¸”)

================================================================
7. ì˜ˆìƒ ê²°ê³¼
================================================================

ì´ 135ê°œ í¬ì¸íŠ¸:
- í•­êµ¬: 5ê°œ (í° ë…¸ë€ìƒ‰/ê¸ˆìƒ‰ ì )
- íŒŒë‚˜ë§ˆ ê²½ìœ : 57ê°œ (íŒŒë€ ì ì„ )
- ë‚¨ë¯¸ ìš°íšŒ: 73ê°œ (ë¹¨ê°„ ì ì„ )

ì‹¤ì œ í•´ìƒ ê²½ë¡œë¥¼ ë”°ë¼ ìœ¡ì§€ë¥¼ í†µê³¼í•˜ì§€ ì•Šê³  
ì •í™•í•œ í•­ë¡œê°€ í‘œì‹œë©ë‹ˆë‹¤.

================================================================
